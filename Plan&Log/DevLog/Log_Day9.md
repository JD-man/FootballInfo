# DevLog Day9

## 클라우드 접속 오류 원인

### 오류와의 싸움 여정
1. 테스트 플라이트 테스터 중 1분이 런치스크린 이후 화면을 못들어가는 이슈
2. SceneDelegate의 접속 코드를 global queue async로해보고 AppDelegate로도 옮겨봤음
3. 그래도 안됨. 그 1분만 계속. 다른 분들은 잘됨.
4. 결국 접속 코드를 메인뷰로 옮김
5. 테스트 중...
6. 메인뷰 접속은 됐으나 다른 탭과 리그 접근이 안됨.
7. 얼럿처리는 딱 한군데 했는데 그 얼럿이 나왔고 그 부분은 currentUser를 못받아서 생기는 문제
8. 이런 이슈 오히려 감사하다
9. 와이파이로 하니까 잘됨?? 왜???
10. 접속 못했던 이전버전들도 와이파이로는 잘돼서 AppDelegate 버전으로 고정

### 통신사 5G와 와이파이의 차이??
- 모르겠다.
- 아무리 검색해도 그런 얘기는 없다.
- 질문 예정

### 이 오류를 해결하는데만 3일 정도 걸렸다.
### 다른 작업하면서 오류를 잡긴 했지만 이 문제로 출시가 하루 밀렸다.
### 통신사는 LG U+였고 5G를 사용했었다.

--- 

## 로컬 알림 설정
- 경기 시작 1시간 전을 알려주는 알림 예약을 만들었다.
- 경기 알림을 예약 했다가 앱의 알림 설정을 꺼버리면 모든 pendingRequest를 삭제해야했다
- 앱 시작시 알림설정 상태를 체크해서 pedingRequest를 모두 삭제하는 과정을 만들었다.
- 다시 알림 설정을 허가하고 그 경기를 누르면 request가 삭제된다! (print 찍어봄)
- removePendingRequest는 비동기로 이루어졌고 completion 핸들러가 없어서 삭제되는 시점을 정확히 알기 어렵다.
- UserDefaults로 pending된 경기 ID를 저장하고 예약/취소시 얼럿을 띄워서 삭제될 시간을 만들었다.
- 1시간전 알림은 테스트해봤으나 취소는 테스트 못해 확인 예정이다.

## 사용법, 오픈소스 라이브러리 VC 제작
- 이런 엄청 단순한 뷰에 스토리보드까지 만들 필요는 없을거 같아 코드로 작성